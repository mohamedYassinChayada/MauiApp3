<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:converters="clr-namespace:MauiApp3.Converters"
             xmlns:viewmodel="clr-namespace:MauiApp3.ViewModel"
             x:Class="MauiApp3.MainPage"
             BackgroundColor="White">

    <ContentPage.BindingContext>
        <viewmodel:MatchViewModel />
    </ContentPage.BindingContext>

    <ContentPage.Resources>
        <ResourceDictionary>
            <converters:TeamAColorConverter x:Key="TeamAColorConverter" />
            <converters:TeamBColorConverter x:Key="TeamBColorConverter" />
            <converters:ResultToTextConverter x:Key="ResultToTextConverter" />
            <converters:ResultLabelColorConverter x:Key="ResultLabelColorConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <VerticalStackLayout Padding="20" Spacing="30" VerticalOptions="Center">
        
        <!-- Match Number -->
        <Label 
            Text="{Binding CurrentMatch.MatchNumber}"
            FontSize="24"
            FontAttributes="Bold"
            TextColor="Black"
            HorizontalOptions="Center"/>

        <!-- Team A Box -->
        <Frame 
            BackgroundColor="{Binding CurrentMatch.Result, Converter={StaticResource TeamAColorConverter}}"
            Padding="20"
            CornerRadius="10"
            BorderColor="Black">
            <Label 
                Text="{Binding CurrentMatch.TeamA}"
                FontSize="32"
                FontAttributes="Bold"
                TextColor="Black"
                HorizontalOptions="Center"/>
        </Frame>

        <!-- VS Label -->
        <Label 
            Text="VS"
            FontSize="28"
            FontAttributes="Bold"
            TextColor="Black"
            HorizontalOptions="Center"/>

        <!-- Team B Box -->
        <Frame 
            BackgroundColor="{Binding CurrentMatch.Result, Converter={StaticResource TeamBColorConverter}}"
            Padding="20"
            CornerRadius="10"
            BorderColor="Black">
            <Label 
                Text="{Binding CurrentMatch.TeamB}"
                FontSize="32"
                FontAttributes="Bold"
                TextColor="Black"
                HorizontalOptions="Center"/>
        </Frame>

        <!-- Result Label -->
        <Label 
            Text="{Binding CurrentMatch.Result, Converter={StaticResource ResultToTextConverter}}"
            TextColor="{Binding CurrentMatch.Result, Converter={StaticResource ResultLabelColorConverter}}"
            FontSize="24"
            FontAttributes="Bold"
            HorizontalOptions="Center"
            Margin="0,20,0,0"/>

    </VerticalStackLayout>

</ContentPage>
